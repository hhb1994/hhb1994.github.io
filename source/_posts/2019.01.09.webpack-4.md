---
title: webpack使用
tags: [ webpack]
categories: 知识 
---
#什么是 webpack?
![what-is-webpack](https://i.loli.net/2019/01/12/5c39eb56b9248.png)
[webpack](https://www.webpackjs.com/concepts/)是一个静态文件打包器.当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle.
webpack 有四个核心概念:
* 入口(entry)
* 输出(output)
* loader
* 插件(plugins)

此外,在 webpack4中,增加了 mode 的选项,通过选择 development 或 production 之中的一个，来设置 mode 参数，你可以启用相应模式下的 webpack 内置的优化.
#入口起点(entry point)
## 单个入口写法
用法:`entry: string|Array<string>`
在 webpack.config.js 中配置:

    const config = {
    entry: './path/to/my/entry/file.js'
    };

    module.exports = config;
上面这种 entry 的写法是👇的简写:

    const config = {
    entry: {
        main: './path/to/my/entry/file.js'
    }
    };
向 entry 传入数组,会创建多个主入口(multi-main entry).
## 对象语法
用法:`entry: {[entryChunkName: string]: string|Array<string>}`
在 webpack.config.js中配置:

    const config = {
    entry: {
        app: './src/app.js',
        vendors: './src/vendors.js'
    }
    };
## 常见场景
### 分离应用程序(app)和第三方库(vendor)入口
在 webpack.config.js 中配置:

    const config = {
    entry: {
        app: './src/app.js',
        vendors: './src/vendors.js'
    }
    };
 *webpack 从 app.js 和 vendors.js 开始创建依赖图(dependency graph)。这些依赖图是彼此完全分离、互相独立的（每个 bundle 中都有一个 webpack 引导(bootstrap)）。这种方式比较常见于，只有一个入口起点（不包括 vendor）的单页应用程序(single page application)中。*
 ### 多页面应用程序
 在 webpack.config.js中配置:

    const config = {
    entry: {
        pageOne: './src/pageOne/index.js',
        pageTwo: './src/pageTwo/index.js',
        pageThree: './src/pageThree/index.js'
    }
    };
*webpack 需要 3 个独立分离的依赖图（如上面的示例）。*